# Пакет Storage для проектов Larek

## Обзор

Этот пакет предоставляет унифицированный подход к работе с различными системами хранения данных в Go-приложениях. В настоящее время он реализует подключение к базе данных PostgreSQL с такими функциями, как интеграция с OpenTelemetry и управление транзакциями. В будущих версиях будет добавлена поддержка MongoDB, ClickHouse и других систем хранения.

## Структура

Пакет storage организован по типам баз данных:


## Текущие реализации

### PostgreSQL

Модуль [postgres](postgres) предоставляет клиент для PostgreSQL со следующими возможностями:

- Простая конфигурация подключения
- Управление транзакциями через [go-transaction-manager](https://github.com/avito-tech/go-transaction-manager)
- Интеграция с трассировкой OpenTelemetry
- Вспомогательные методы для распространенных операций с базой данных

Подробную информацию смотрите в [README для PostgreSQL](postgres/readme.md).

## Планируемые расширения

### MongoDB (Скоро)

Реализация для MongoDB будет предоставлять:
- Интерфейс для документо-ориентированного хранилища
- Поддержку транзакций
- Интеграцию с OpenTelemetry
- Построители запросов для операций MongoDB

### ClickHouse (Скоро)

Реализация для ClickHouse будет поддерживать:
- Высокопроизводительные аналитические запросы
- Колоночное хранение данных
- Операции пакетной вставки
- Интеграцию с OpenTelemetry

## Философия использования

Все реализации хранилищ следуют следующим принципам:

1. **Последовательный интерфейс**: Каждая реализация предоставляет согласованный интерфейс для общих операций
2. **Наблюдаемость прежде всего**: Встроенная трассировка и мониторинг через OpenTelemetry
3. **Поддержка транзакций**: Где применимо, надежное управление транзакциями
4. **Простота конфигурации**: Легкая настройка через переменные окружения или структуры конфигурации

## Установка

```bash
# Реализация для PostgreSQL
go get github.com/larek-tech/storage/postgres

# Будущие реализации
# go get github.com/larek-tech/storage/mongodb
# go get github.com/larek-tech/storage/clickhouse